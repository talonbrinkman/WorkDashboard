<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Dashboard</title>
    <link rel="stylesheet" href="main.css">
    <link rel="icon" type="image/x-icon" href="favicon.png">
    <script src="https://kit.fontawesome.com/56a1441670.js" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=Titillium+Web&display=swap" rel="stylesheet">
  </head>
  <body>
    <header>
      <h1>Dashboard</h1>
    </header>
    <div class="grid_container">
      <div class="MoneyMadeTool" id="MoneyMadeTool">
        <div class="panelName">
          <h1>Money Made</h1>
          <i class="fa-solid fa-gear"></i>
          <i class="fa-solid fa-trash" id="MoneyMadeTool" onclick="removeItem(this.id)"></i>
          <i class="fa-solid fa-pen-to-square"></i>
        </div>
        <div class="money">
          <h1 id="startTime">0:00</h1><br>
          <h1 id="moneyMade">$0.00</h1> <h1 id="moneyRate">0/hr</h1>
          <br>
          <h1 id="afterTax">$0.00</h1>
        </div>
        <div class="inputs">
          <input class="slider" id="hourStarted" type="range" value="8" min="1"></input>
          <input class="slider" id="hourlyRate" type="range" value="18" min="0" max="60"></input>
          <input class="slider" id="decimalPlaces" type="range" value="3" min="0" max="20"></input>
        </div>
      </div>
      <div class="TimeLeftTool" id="TimeLeftTool">
        <div class="panelName">
          <h1>Time Left</h1>
          <i class="fa-solid fa-gear"></i>
          <i class="fa-solid fa-trash" id="TimeLeftTool" onclick="removeItem(this.id)"></i>
          <i class="fa-solid fa-pen-to-square"></i>
        </div>
        <h1 id="time">0:00:00</h1>
        <h1 id="timeLeft">00:00:00</h1> <h1 id="endTime">0:00</h1>
        <div class="inputs">
          <input class="slider" id="endHour" type="range" value="16" min="1" max="24"></input>
          <input class="slider" id="endMinutes" type="range" value="0" min="0" max="59"></input>
        </div>
      </div>
      <div class="TimeLeftTool" id="ToBeDetermined">
        <div class="panelName">
          <h1>To Be Determined</h1>
          <i class="fa-solid fa-gear"></i>
          <i class="fa-solid fa-trash" id="ToBeDetermined" onclick="removeItem(this.id)"></i>
          <i class="fa-solid fa-pen-to-square"></i>
        </div>
      </div>
      <div class="ToDoListTool" id="ToDoListTool">
        <div class="panelName">
          <h1>To Do List</h1>
          <i class="fa-solid fa-gear"></i>
          <i class="fa-solid fa-trash" id="ToDoListTool" onclick="removeItem(this.id)"></i>
          <i class="fa-solid fa-pen-to-square"></i>
        </div>
        <div class="list" id="list">
        </div>
        <div class="add">
          <input type="text" placeholder="Add Item" id="item"></input>
          <button onclick="addItem()">Add</button>
        </div>
      </div>
    </div>
    <script>
      setInterval(function calcMoney(){
        var today= new Date();
        var hours = today.getHours() - document.getElementById("hourStarted").value;
        var mins = today.getMinutes();
        var sec = today.getSeconds();

        var money = ((hours + (mins/60) + (sec/3600))*document.getElementById("hourlyRate").value);
        var afterTax = money * 0.9;

        let moneyRounded = money.toFixed(document.getElementById("decimalPlaces").value);
        let moneyAfterTaxRounded = afterTax.toFixed(document.getElementById("decimalPlaces").value);

        document.getElementById("hourStarted").max = today.getHours();
        document.getElementById("moneyMade").innerHTML = "$" + moneyRounded;
        document.getElementById("afterTax").innerHTML = "$" + moneyAfterTaxRounded;
        document.getElementById("startTime").innerHTML = document.getElementById("hourStarted").value + ":00";
        document.getElementById("moneyRate").innerHTML = document.getElementById("hourlyRate").value + "/hr";
        var hours = today.getHours();
        var minutes = today.getMinutes();
        var seconds = today.getSeconds();
        if(seconds < 10){
          seconds = "0" + seconds;
        }
        if(minutes < 10){
          minutes = "0" + minutes;
        }
        if(hours < 10){
          hours = "0" + hours;
        }
        document.getElementById("time").innerHTML = hours + ":" + minutes + ":" + seconds;

        var date = new Date().getDate();
        var countDownDate = new Date("Jul " + date + ", 2022 " + parseInt(document.getElementById("endHour").value)
        + ":" + parseInt(document.getElementById("endMinutes").value) + ":00").getTime();
        var now = new Date().getTime();
        var timeleft = countDownDate - now;

        hours = Math.floor((timeleft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        minutes = Math.floor((timeleft % (1000 * 60 * 60)) / (1000 * 60));
        seconds = Math.floor((timeleft % (1000 * 60)) / 1000);
        if(seconds < 10){
          seconds = "0" + seconds;
        }
        if(minutes < 10){
          minutes = "0" + minutes;
        }
        if(hours < 10){
          hours = "0" + hours;
        }
        document.getElementById("endHour").min = today.getHours() + 1;
        document.getElementById("timeLeft").innerHTML = hours + ":" + minutes + ":" + seconds;
        var endHour = document.getElementById("endHour").value;
        var endMinutes = document.getElementById("endMinutes").value;
        if(endMinutes < 10){
          endMinutes = "0" + endMinutes;
        }
        document.getElementById("endTime").innerHTML = endHour + ":" + endMinutes;
      }, 50);
      var x = 0;
      function addItem(){
        var item = document.getElementById("item").value;
        const list = document.getElementById("list");//Parent
        var myDiv = document.createElement("div");//Child
        myDiv.classList.add("item");
        x++;
        myDiv.setAttribute("id", "item"+x);
        myDiv.setAttribute("onclick", "removeItem(this.id)");
        myDiv.innerHTML = "<h1>" + item + "</h1>";
        list.appendChild(myDiv);
        document.getElementById("item").value = "";
      }
      function removeItem(id){
        document.getElementById(id).remove();
      }
    </script>
  </body>
  <footer>
    <div class="socials">
      <i class="fa-brands fa-instagram"></i>
      <i class="fa-brands fa-twitter"></i>
      <i class="fa-brands fa-github"></i>
    </div>
    <h1>powered by Bain</h1>
  </footer>
</html>
